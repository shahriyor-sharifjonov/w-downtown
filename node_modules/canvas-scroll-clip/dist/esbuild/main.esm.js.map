{
  "version": 3,
  "sources": ["../../src/helpers/error.ts", "../../src/helpers/utils.ts", "../../src/common/events.ts", "../../src/common/base.ts", "../../src/common/frame.ts", "../../src/common/options.ts", "../../src/common/canvas.ts", "../../src/main.ts"],
  "sourcesContent": ["/**\n * AppError class.\n *\n * @export\n * @class AppError\n * @extends {Error}\n */\nexport class CanvasScrollClipError extends Error {\n\n  /**\n   * Creates an instance of AppError.\n   * @param {string} warning message.\n   * @memberof CanvasScrollClipError\n   */\n  constructor(message?: string) {\n\n    if (!message) {\n      message = `Whoops! Something went wrong.`;\n    }\n\n    super(`${message}`);\n\n    // Set the prototype explicitly.\n    Object.setPrototypeOf(this, Object.getPrototypeOf(this));\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CanvasScrollClipError);\n    }\n  }\n\n  /**\n   * Name of the property [of \"this\" or one of its prototypes] that holds\n   * the current function\n   *\n   * @memberof CanvasScrollClipError\n   */\n  get name(): string {\n    return this.constructor.name\n  }\n}\n\n/**\n * AppError decorator class.\n *\n * @export\n * @class AppError\n * @extends {AppError}\n */\nexport class AppError extends CanvasScrollClipError {\n\n  get name(): string {\n    return 'CanvasScrollClipError';\n  }\n}\n\n/**\n * AppLogger class.\n *\n * @export\n * @class AppLogger\n * @extends {AppError}\n */\nexport class AppLogger extends CanvasScrollClipError {\n\n  /**\n   * wrapper logger for console.log\n   *\n   * @param {string}\n   * @memberof Logger\n   */\n  public log(message: string): void {\n    console.log(`${this.name}: ${message}`);\n  }\n\n  /**\n   * wrapper logger for console.warn\n   *\n   * @param {string}\n   * @memberof Logger\n   */\n  public warn(message: string): void {\n    console.warn(`${this.name}: ${message}`);\n  }\n}\n\n/**\n * AppWarning class.\n *\n * @export\n * @class AppWarning\n * @extends {AppLogger}\n */\nexport class AppWarning extends AppLogger {\n\n  /**\n   * Creates an instance of AppWarning.\n   * @param {string} warning message.\n   * @memberof AppWarning\n   */\n  constructor(message: string) {\n    super(message);\n\n    this.warn(message);\n  }\n}\n", "import { AppError } from \"./error\";\nimport { ICanvasViewport, IFrame, IFrameSequence } from \"./intefaces\";\n\n/**\n * RegExp expression to find last digits in a string\n */\nexport const RegExpLastDigitsMatch = /\\d+(?!.*\\d+)/;\n\n/** \n* Available events\n**/\nexport const AppEvent = {\n  viewport: {\n    resize: 'viewport.resize',\n    scroll: 'viewport.scroll'\n  },\n  images: {\n    progress: \"images.progress\",\n    loaded: 'images.loaded'\n  }\n}\n\n/** \n* List of events\n**/\nexport const EventList = Object.values(AppEvent).map((e: Record<string, unknown>) => Object.values(e)).flat();\n\n/**\n * Debounce ot throttle function\n * \n * @param {func} \n * @param {threshold} \n * @returns \n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const debounce = <F extends ((...args: any) => any)>(func: F, threshold = 0): any => {\n  let timeout: ReturnType<typeof setTimeout>;\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const debounced = (...args: any): void => {\n    if (timeout)\n      clearTimeout(timeout)\n\n    timeout = setTimeout(() => func(...args), threshold)\n  }\n\n  return debounced as (...args: Parameters<F>) => ReturnType<F>\n}\n\n/**\n * Preload images\n * \n * @param {imagesList} Array of strings\n * @param {callback} CallbackFunction\n */\nexport async function getImage(imageLink: string): Promise<HTMLImageElement> {\n  return new Promise((resolve, reject) => {\n    const image: HTMLImageElement = new Image();\n\n    image.onload = () => {\n      resolve(image);\n    }\n\n    image.src = imageLink;\n\n    image.onerror = () => {\n      reject(new AppError(`Image with name '...${imageLink.slice(-20)}' was not found.`));\n    }\n  })\n}\n\n/**\n * Preloading image list\n * \n * @returns Promise<HTMLImageElement>[]\n */\nexport function preloadImages(frameOptions: IFrame): Promise<HTMLImageElement>[] {\n  return new Array(frameOptions.count).fill(0).map((_elem, index) => {\n    return getImage(getFramePathByIndex(frameOptions, index + 1));\n  });\n  // console.log(arrayOfImages);\n  // return new Promise()\n  // // return Promise.all(arrayOfImages);\n}\n\n/**\n * Get scroll top position \n * \n * @returns number\n */\nexport function getScrollTop(): number {\n  return window.pageYOffset || document.documentElement.scrollTop; // Credits: \"https://github.com/qeremy/so/blob/master/so.dom.js#L426\"\n}\n\n/**\n * Get scroll top position \n * \n * @param {scrollTop}\n * @param {ICanvasViewport}\n * @returns number\n */\nexport function getScrollFraction(cViewport: ICanvasViewport, scrollTop = getScrollTop()): number {\n  return (scrollTop - cViewport.top) / (cViewport.bottom - cViewport.screen.height - cViewport.top);\n}\n\n/**\n * Get frame URL by frame number\n * \n * @param {IFrame} frameOptions \n * @param {number} frameNumber \n * @returns {string}\n */\nexport function getFramePathByIndex(frameOptions: IFrame, frameNumber = 1): string {\n  return [\n    frameOptions.path,\n    frameOptions.image.start,\n    frameNumber.toString().padStart(frameOptions.image.padStart, \"0\"),\n    frameOptions.image.ending\n  ].join(\"\");\n}\n\n/**\n   * Get image base path\n   * \n   * @param firstFramePath \n   * @returns \n   */\nexport function getImageBasePath(firstFramePath: string): string {\n  const path = firstFramePath.split('/');\n\n  path.pop();\n\n  return `${path.join('/')}/`;\n}\n\n/**\n   * Get frame image structure\n   * \n   * @param {string} firstFramePath \n   * @param {number} frameCount \n   * @returns\n   * @throws {AppError}\n   */\nexport function getImageStructure(firstFramePath: string, frameCount: number): IFrameSequence {\n  const img = getPathEnding(firstFramePath);\n  const ext = getFileSuffix(img);\n  const seq = getImageSequence(img);\n\n  if (frameCount.toString().length > seq.length) {\n    throw new AppError(`Leading zeros in first frame path has to be more than the frame count and sequence at the end.`);\n  }\n\n  return {\n    start: img.slice(0, img.indexOf(seq)),\n    sequence: parseInt(seq),\n    padStart: seq.length,\n    ending: img.slice(img.indexOf(seq) + seq.length),\n    extension: ext,\n  };\n}\n\n/**\n * Get image sequence with leading zeros\n * \n * @param {string} imageName \n * @returns {string}\n * @throws {AppError} image sequence format not supported\n */\nexport function getImageSequence(imageName: string): string {\n  const match = imageName.match(RegExpLastDigitsMatch);\n  const sequence = (match && match[0] !== null) ? match[0] : \"\";\n\n  if (sequence.length < 2) {\n    throw new AppError('Bad image sequence format. Should start with 0 and be longer than 2 numbers, f.e. \"frame_01.jpg\"')\n  }\n\n  return sequence;\n}\n\n/**\n * Get file extension/suffix \n * Test whether is within supported extension/suffixes list\n * \n * @param fileName \n * @returns {string}\n * @throws {AppError} Unsupported image\n */\nexport function getFileSuffix(fileName: string): string {\n  const ext = fileName.split('.').pop() || ' ';\n\n  if (!['jpg', 'jpeg', 'png', 'webp'].includes(ext)) {\n    throw new AppError(`Image with extension ['${ext}'] is not supported.`);\n  }\n\n  return `.${ext}`;\n}\n\n/**\n * Get ending of a url\n * \n * @param path \n * @returns \n */\nexport function getPathEnding(path: string): string {\n  const splitted = path.split('/');\n\n  return splitted.pop() || '';\n}", "import { NoopFunction } from \"../helpers/intefaces\";\nimport { AppWarning } from \"../helpers/error\";\nimport { EventList } from \"../helpers/utils\";\n\n/** \n* Event emitter\n* https://github.com/peterkejun/Animated-Canvas/blob/05bf961da7cba31aa901054948293180a6131704/src/Helpers/EventEmitter.ts\n**/\nexport class EventEmitter {\n  /**\n   * A map of event to a list of callbacks\n   */\n  // eslint-disable-next-line  @typescript-eslint/no-explicit-any\n  private observers: Map<string, Array<any>>;\n\n  /**\n   * A new EventEmitter with no observers\n   * @constructor\n   */\n  constructor() {\n    // map of observers\n    this.observers = new Map()\n  }\n\n  /**\n   * Subcribe to an event by providing a callback\n   * @param event the event to subscribe to\n   * @param cb the callback to run when the event is emitted\n   */\n  // eslint-disable-next-line  @typescript-eslint/no-explicit-any\n  on = (event: string, cb: NoopFunction): void => {\n    if (!EventList.includes(event)) {\n      new AppWarning(`Event ['${event}'] is not supported.`);\n    }\n\n    // get list of cb for this event\n    const observer = this.observers.get(event)\n    // add cb to list if list exists\n    if (observer) observer.push(cb)\n    // initialize list with [cb]\n    else this.observers.set(event, [cb])\n  }\n\n  /**\n   * Unsubscribe to an event by removing a specific callback function\n   * @param event the event to unsubscribe to\n   * @param cb the callback to remove\n   */\n  // eslint-disable-next-line  @typescript-eslint/no-explicit-any\n  remove = (event: string, cb: NoopFunction): void => {\n    // get list of cb for this event;\n    const observer = this.observers.get(event)\n    // return if no such list exists\n    if (!observer) return\n    // find cb in list\n    for (let i = 0; i < observer.length; i++) {\n      // matching cb\n      if (observer[i] === cb) {\n        // remove cb from list\n        observer.splice(i, 1)\n        return\n      }\n    }\n  }\n\n  /**\n   * Emit an event with arguments for callbacks\n   * @param event the event to emit\n   * @param args extra arguments for the callbacks of this event\n   */\n  // eslint-disable-next-line  @typescript-eslint/no-explicit-any\n  emit = (event: string, ...args: any[]): void => {\n    // get list of cb for this event\n    const observer = this.observers.get(event)\n    // return if no such list exist\n    if (!observer) return\n    // call each cb with arguments\n    for (let i = 0; i < observer.length; i++) {\n      observer[i](...args)\n    }\n  }\n}\n", "import { IScreenViewport } from \"../helpers/intefaces\";\nimport { EventEmitter } from \"../common/events\";\nimport { AppError } from \"../helpers/error\";\nimport * as utils from \"../helpers/utils\";\n\nexport class Base {\n\n  /**\n   * EventEmitter \n   */\n  public events: EventEmitter;\n\n  /**\n   * Viewport\n   */\n  public screen: IScreenViewport;\n\n  /**\n   * Creates an instance.\n   * \n   * @constructor\n   * @memberof Base\n   * @throws\n   */\n  constructor() {\n\n    // Test window is defined\n    if (!window) {\n      throw new AppError(\"window is not found.\");\n    }\n\n    // Test document is defined\n    if (!document) {\n      throw new AppError(\"document is not found.\");\n    }\n\n    // Event bus\n    this.events = new EventEmitter();\n\n    // Set viewport\n    this.screen = this.getScreenViewport();\n\n    // Bind events\n    this.bind()\n  }\n\n  /**\n   * Bind events\n   */\n  private bind(): void {\n    // Bind window events\n    window.addEventListener(\"resize\", utils.debounce(this.handleResize.bind(this)));\n    window.addEventListener(\"scroll\", utils.debounce(this.handleScroll.bind(this)));\n\n    // on viewport resize event\n    this.events.on(utils.AppEvent.viewport.resize, (viewport: IScreenViewport) => {\n      // Update vieport\n      this.screen = viewport;\n    });\n  }\n\n  /**\n   * Get window viewport size\n   * \n   * @returns {IScreenViewport}\n   */\n  public getScreenViewport(): IScreenViewport {\n    return {\n      width: window.innerWidth || document.documentElement?.clientWidth,\n      height: window.innerHeight || document.documentElement?.clientHeight\n    };\n  }\n\n  /**\n   * Set Viewport sizes on window resize event\n   */\n  public handleResize(): void {\n    this.events.emit(utils.AppEvent.viewport.resize, this.getScreenViewport());\n  }\n\n  /**\n   * Set scrolltop on window scroll event\n   */\n  public handleScroll(): void {\n    // Credits: \"https://github.com/qeremy/so/blob/master/so.dom.js#L426\"\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n    this.events.emit(utils.AppEvent.viewport.scroll, scrollTop)\n  }\n}\n\nexport default Base;", "import { AppError } from \"../helpers/error\";\nimport { IFrame, IFrameSequence, IUserInputs } from \"../helpers/intefaces\";\nimport * as utils from \"../helpers/utils\"\n\nexport class Frame implements IFrame {\n\n  // Image base path\n  public path: string;\n\n  // Sequence frame count\n  public count: number;\n\n  // Sequence image structure\n  public image: IFrameSequence;\n\n  /**\n   * Creates an instance of Options.\n   * @param {IUserInputs} [options] Options to copy properties.\n   * @memberof Options\n   */\n  constructor({ framePath, frameCount }: IUserInputs) {\n\n    // test framePath is defined\n    if (!framePath?.length) {\n      throw new AppError('Frame path is not defined.');\n    }\n\n    // test frameCount is defined\n    if (!frameCount) {\n      throw new AppError('Frame count is not defined.');\n    }\n\n    // Set frame count\n    this.count = parseInt(frameCount as unknown as string);\n\n    // Set frame base path\n    this.path = utils.getImageBasePath(framePath);\n\n    // Set frame sequence structure\n    this.image = utils.getImageStructure(framePath, this.count)\n  }\n}\n\nexport default Frame;", "import { IUserInputs, IFrame } from '../helpers/intefaces'\nimport Base from './base';\nimport Frame from './frame';\n\n/**\n * Plugin options.\n *\n * @export\n * @class Options\n * @implements {IOptions}\n */\nexport class Options extends Base {\n\n  // User inputs\n  public inputs: IUserInputs;\n\n  // Identifier for appended elements\n  public identifier: string;\n\n  // Animation Height\n  public scrollArea: number = 0;\n\n  // Frame\n  protected frame: IFrame;\n\n  /**\n   * Creates an instance of Options.\n   * @param {IUserInputs} [options] Options to copy properties.\n   * @memberof Options\n   */\n  constructor(options: IUserInputs) {\n    super();\n\n    // Set user inputs\n    this.inputs = options;\n\n    // Set identifier\n    this.identifier = options.identifier || 'csc';\n\n    // Set frame\n    this.frame = new Frame(options);\n\n    // Set Container Height if defined\n    if (options.scrollArea) {\n      this.scrollArea = parseInt(options.scrollArea as unknown as string, 10);\n    }\n  }\n\n  /**\n   * Set scrollable area height\n   */\n  public set setScrollableArea(height: number) {\n    if (this.scrollArea)\n      return\n\n    this.scrollArea = parseInt(height as unknown as string);\n  }\n}\n\n/**\n * @export\n */\nexport default Options;", "import { ICanvasViewport, IUserInputs } from \"../helpers/intefaces\";\nimport { AppError } from \"../helpers/error\";\nimport * as utils from \"../helpers/utils\";\nimport Options from \"../common/options\";\n\n/**\n * Canvas\n *\n * @export\n * @class Canvas\n */\nexport class Canvas extends Options {\n\n  /**\n   * Loading\n   */\n  private loading: boolean = true;\n\n  /**\n   * Wrapper HTML element\n   */\n  private _container: HTMLElement;\n\n  /**\n   * HTML element \n   */\n  private _wrapper: HTMLElement;\n\n  /**\n   * Canvas DOM element\n   */\n  private _canvas: HTMLCanvasElement;\n\n  /**\n   * Images\n   */\n  private images: HTMLImageElement[] = [];\n\n  /**\n   * Canvas context\n   */\n  private context: CanvasRenderingContext2D;\n\n  /**\n   * Canvas viewport\n   */\n  protected viewport: ICanvasViewport;\n\n  /**\n   * Creates an instance of Canvas.\n   * \n   * @constructor\n   * @param {HTMLElement} HTML element.\n   * @memberof Canvas\n   */\n  constructor(element: HTMLElement, options: IUserInputs) {\n    super(options);\n\n    // Check if HTMLCanvasElement exists\n    if (!element) {\n      throw new AppError('HTML element is not defined.');\n    }\n\n    // Set container\n    this._container = element;\n    this._container.innerHTML = \"\";\n\n    // Append canvas and loader to an element\n    this._container.classList.add(`${this.identifier}-container`);\n    this._container.style.setProperty('height', `${this.scrollArea}px`);\n\n    // Create canvas element\n    this._canvas = document.createElement('canvas');\n    this._canvas.classList.add(`${this.identifier}-canvas`);\n    this._canvas.style.setProperty('display', 'block');\n    this._canvas.style.setProperty('max-height', '100%');\n    this._canvas.style.setProperty('max-width', '100%');\n    this._canvas.style.setProperty('object-fit', 'cover');\n    this._canvas.style.setProperty(\"height\", \"100vh\");\n    this._canvas.style.setProperty(\"width\", \"100%\");\n\n    // Create wrapper container\n    this._wrapper = document.createElement('div')\n    this._wrapper.classList.add(this.identifier);\n    this._wrapper.style.setProperty('position', 'sticky');\n    this._wrapper.style.setProperty('top', '0');\n    this._wrapper.appendChild(this._canvas);\n\n    // Output template\n    this._container.appendChild(this._wrapper);\n\n    // Get context\n    this.context = this._canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n\n    // Set viewport default\n    this.viewport = {\n      width: this.screen.width,\n      height: this.screen.height,\n      top: 0,\n      bottom: this.screen.height,\n      screen: this.screen\n    };\n\n    // Bind scroll event\n    this.events.on(utils.AppEvent.viewport.scroll, (scrollTop) => {\n      if (!this.loading)\n        this.drawImageByScrollFraction(utils.getScrollFraction(this.viewport, scrollTop));\n    });\n\n    // Preload Images\n    this.preload();\n  }\n\n  /**\n   * Preload images\n   * \n   * @returns \n   */\n  public async preload() {\n    const progress = {\n      total: this.frame.count,\n      loaded: 0\n    }\n\n    // Create array of promises and raise loading event\n    const imageList = utils.preloadImages(this.frame).map(p => {\n      return p.then((image) => {\n        progress.loaded = ++progress.loaded\n\n        this.events.emit(utils.AppEvent.images.progress, progress);\n\n        return image\n      })\n    })\n\n    // TODO: should I refactor this\n    return await Promise.all(imageList).then(images => {\n      this.images = images;\n\n      // Set Canvas viewport\n      this.viewport = {\n        ...this.viewport,\n        width: this.images[0]?.width,\n        height: this.images[0]?.height,\n        top: this._container.getBoundingClientRect().top + utils.getScrollTop() || 0,\n        bottom: this._container.getBoundingClientRect().bottom + utils.getScrollTop() || this.screen.height\n      };\n\n      // Set canvas size\n      // TODO async/await for first image earlier\n      this._canvas.width = this.viewport.width;\n      this._canvas.height = this.viewport.height;\n      this.setScrollableArea = this.viewport.height * 2;\n      this._container.style.setProperty('height', `${this.scrollArea}px`);\n\n      // Initial image load\n      this.drawImageByScrollFraction(utils.getScrollFraction(this.viewport));\n\n      // Add loaded classes\n      this._container.classList.add(`${this.identifier}--loaded`);\n\n      // Images loaded\n      this.loading = false;\n\n      // Emit images loaded event\n      // End of everything\n      this.events.emit(utils.AppEvent.images.loaded);\n    });\n  }\n\n  /**\n   * Draw image in Canvas Element\n   * \n   * @param image \n   */\n  public drawImage(image: HTMLImageElement): void {\n    if (!image) {\n      return\n    }\n\n    this.context.clearRect(0, 0, this.viewport.width, this.viewport.height);\n    this.context.drawImage(image, 0, 0, this.viewport.width, this.viewport.height);\n  }\n\n  /**\n   * Draw image in canvas by frame number\n   * @param {scrollTop} number\n   * @private\n   * \n   * Hidden in order to not display this method in docs\n   * @hidden\n   */\n  public drawImageByFrameNumber(frameNumber = 0): void {\n    this.drawImage(this.images[frameNumber]);\n  }\n\n  /**\n   * Draw image in canvas by scroll top position.\n   * \n   * @param {scrollTop} number\n   */\n  public drawImageByScrollFraction(scrollFraction: number): void {\n    let frameIndex;\n\n    frameIndex = Math.min(\n      this.frame.count - 1, // Due to array index\n      Math.ceil(scrollFraction * this.frame.count)\n    );\n\n    if (frameIndex <= 0)\n      frameIndex = 0;\n\n    this.drawImageByFrameNumber(frameIndex);\n  }\n}\n\nexport default Canvas;", "import { NoopFunction, IUserInputs } from \"./helpers/intefaces\";\nimport { debounce, AppEvent } from \"./helpers/utils\";\nimport Canvas from \"./common/canvas\";\n\n/**\n * @module\n * CanvasClip.js\n */\n\ninterface IMain {\n  callback: NoopFunction;\n}\n\n/**\n * @class Main class\n */\nclass Main extends Canvas implements IMain {\n\n  /**\n   * This callback is called when the class is loaded\n   * \n   * @callback CallbackFunction\n   */\n  public callback: NoopFunction;\n\n  /**\n   * An instance of App.js.\n   * \n   * @constructor\n   * @param {String} class name of an HTML element.\n   * @param {function} Callback function\n   * @memberof Main\n   */\n  constructor(element: HTMLElement, options: IUserInputs, callback?: NoopFunction) {\n    // Instantiate Canvas Class\n    super(element, options);\n\n    // Callback function if defined\n    this.callback = callback || (() => {\n      // eslint - do nothing.\n    });\n\n    // Initialize\n    this.init();\n  }\n\n  /**\n   * Hidden in order not to display this method in docs\n   * Initializes in constructor\n   */\n  private init(): void {\n\n    // Bind images loaded event\n    this.events.on(AppEvent.images.loaded, () => {\n      // Next tick of instance\n      debounce(this.callback());\n    });\n  }\n}\n\nexport default Main;"],
  "mappings": "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",
  "names": []
}
